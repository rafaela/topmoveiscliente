"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3687],{3687:(A,U,i)=>{i.r(U),i.d(U,{LoginPageModule:()=>C});var f=i(6814),c=i(95),n=i(6728),u=i(4248),v=i(5861),t=i(6242),g=i(4800),d=i(4414);function y(r,l){1&r&&(t.TgZ(0,"ion-row")(1,"ion-col")(2,"p",13),t._uU(3,"Usu\xe1rio ou senha incorretos"),t.qZA()()())}const s=[{path:"",component:(()=>{var r;class l{constructor(o,a,p,m,L){this.api=o,this.loadingCtrl=a,this.activatedRoute=p,this.router=m,this.alertController=L,this.categories=[],this.cart=[],this.amountProducts=0,this.login={email:"",passwordHash:""},this.erro=!1}ngOnInit(){}home(){this.router.navigateByUrl("home",{replaceUrl:!0})}viewCart(){this.router.navigateByUrl("carrinho",{replaceUrl:!0})}entrar(){var o=this;return(0,v.Z)(function*(){const a=yield o.loadingCtrl.create({message:"Aguarde..."});a.present(),(yield o.api.login(o.login))?(a.dismiss(),"cliente"==localStorage.getItem("tela")?o.router.navigateByUrl("cliente",{replaceUrl:!0}):"carrinho"==localStorage.getItem("tela")?o.router.navigateByUrl("carrinho",{replaceUrl:!0}):o.router.navigateByUrl("meuspedidos",{replaceUrl:!0})):(a.dismiss(),o.erro=!0)})()}criarConta(){this.router.navigateByUrl("cliente",{replaceUrl:!0})}}return(r=l).\u0275fac=function(o){return new(o||r)(t.Y36(g.s),t.Y36(d.HT),t.Y36(u.gz),t.Y36(u.F0),t.Y36(d.Br))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:30,vars:5,consts:[["id","main-content",1,"ion-page",2,"margin-bottom","15px"],["slot","start"],[2,"cursor","pointer",3,"click"],["src","../../../assets/images/logo.png",2,"width","125px"],[1,"ion-padding"],["sizeLg","4","sizeMd","4","sizeXs","12"],[1,"color-label"],["type","email","placeholder","Digite seu usu\xe1rio","name","input",3,"clearInput","ngModel","ngModelChange"],["type","password","placeholder","Digite seu nome completo","name","input",3,"clearInput","ngModel","ngModelChange"],[1,"btn-salvar",3,"click"],[4,"ngIf"],[2,"cursor","pointer"],[1,"font","color-primary",3,"click"],[1,"font","color-primary",2,"font-weight","700"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-buttons",1),t._UZ(4,"ion-menu-button"),t.qZA(),t.TgZ(5,"ion-title",2),t.NdJ("click",function(){return a.home()}),t._UZ(6,"img",3),t.qZA()()(),t.TgZ(7,"ion-content",4)(8,"ion-grid")(9,"ion-row")(10,"ion-col")(11,"ion-row")(12,"ion-col",5)(13,"ion-label",6),t._uU(14,"Email"),t.qZA(),t.TgZ(15,"ion-input",7),t.NdJ("ngModelChange",function(m){return a.login.email=m}),t.qZA()()(),t.TgZ(16,"ion-row")(17,"ion-col",5)(18,"ion-label",6),t._uU(19,"Senha"),t.qZA(),t.TgZ(20,"ion-input",8),t.NdJ("ngModelChange",function(m){return a.login.passwordHash=m}),t.qZA()()(),t.TgZ(21,"ion-row")(22,"ion-col")(23,"button",9),t.NdJ("click",function(){return a.entrar()}),t._uU(24,"Entrar"),t.qZA()()(),t.YNc(25,y,4,0,"ion-row",10),t.TgZ(26,"ion-row")(27,"ion-col",11)(28,"p",12),t.NdJ("click",function(){return a.criarConta()}),t._uU(29,"Criar conta"),t.qZA()()()()()()()()),2&o&&(t.xp6(15),t.Q6J("clearInput",!0)("ngModel",a.login.email),t.xp6(5),t.Q6J("clearInput",!0)("ngModel",a.login.passwordHash),t.xp6(5),t.Q6J("ngIf",a.erro))},dependencies:[f.O5,c.JJ,c.On,n.Sm,n.wI,n.W2,n.jY,n.Gu,n.pK,n.Q$,n.fG,n.Nd,n.wd,n.sr,n.j9]}),l})()}];let P=(()=>{var r;class l{}return(r=l).\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[u.Bz.forChild(s),u.Bz]}),l})(),C=(()=>{var r;class l{}return(r=l).\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[f.ez,c.u5,n.Pc,P]}),l})()},4800:(A,U,i)=>{i.d(U,{s:()=>t});var f=i(5861),c=i(9862);var u=i(6242),v=i(4248);let t=(()=>{var g;class d{constructor(e,s){this.http=e,this.router=s,this.intlMaskProps={locales:"pt-BR",options:{style:"currency",currency:"BRL"}},this.apiUrl="",this.log=!1,this.httpHeader={headers:new c.WM({"Content-Type":"application/json"})},window,this.apiUrl="apitopmoveis.azurewebsites.net"}login(e){var s=this;return(0,f.Z)(function*(){return s.result=yield s.http.post(`${s.apiUrl}/login`,e).toPromise(),!(!s.result||!s.result.sucess||(window.localStorage.setItem("token",s.result.token),localStorage.setItem("cliente",JSON.stringify(s.result.data)),0))})()}logout(){window.localStorage.clear(),this.router.navigate(["home"])}getCategories(){return this.http.post(this.apiUrl+"/categorias",{})}getProducts(){return this.http.get(this.apiUrl+"/produtos")}getProductsFeatured(){return this.http.get(this.apiUrl+"/produtosdestaque")}getProductByID(e){return this.http.get(this.apiUrl+"/produtos/"+e,e)}getClientByID(e){return this.http.get(this.apiUrl+"/clientes/"+e,e)}createClient(e){return this.http.post(this.apiUrl+"/clientes/0",e)}updateClient(e){return this.http.put(this.apiUrl+"/clientes/"+e,e)}createAddress(e){return this.http.post(this.apiUrl+"/enderecos/0",e)}updateAddress(e,s){return this.http.put(this.apiUrl+"/enderecos/"+e,s)}deleteAddress(e){return this.http.delete(this.apiUrl+"/enderecos/"+e,e)}getAddressByID(e){return this.http.get(this.apiUrl+"/enderecos/"+e,e)}getAddresses(e){return this.http.get(this.apiUrl+"/enderecoscliente/"+e,e)}getHighlights(){return this.http.post(this.apiUrl+"/imagensdestaque",{})}getPayments(){return this.http.post(this.apiUrl+"/pagamentos",{})}getBySubcategory(e){return this.http.get(this.apiUrl+"/subcategoriaproduto/"+e,e)}GetByCategory(e){return this.http.get(this.apiUrl+"/categoriaproduto/"+e,e)}createSale(e){return this.http.post(this.apiUrl+"/vendas/0",e)}getDataSale(e){return this.http.get(this.apiUrl+"/meuspedidos/"+e,e)}updatePassword(e){return this.http.put(this.apiUrl+"/atualizasenha",e)}getFreight(e){return this.http.get(this.apiUrl+"/frete/0",e)}}return(g=d).\u0275fac=function(e){return new(e||g)(u.LFG(c.eN),u.LFG(v.F0))},g.\u0275prov=u.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),d})()}}]);