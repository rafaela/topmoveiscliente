"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7723],{2322:(C,v,i)=>{i.d(v,{U:()=>U});var g=i(5861),a=i(6242),c=i(4800),h=i(4248),f=i(6728);let U=(()=>{var t;class d{constructor(e,l,m){this.api=e,this.router=l,this.popoverController=m}ngOnInit(){}myAccount(){var e=this;return(0,g.Z)(function*(){e.popoverController.dismiss(),null==localStorage.getItem("cliente")?(localStorage.setItem("tela","cliente"),e.router.navigateByUrl("login",{replaceUrl:!0})):e.router.navigateByUrl("cliente",{replaceUrl:!0})})()}logout(){this.popoverController.dismiss(),this.api.logout()}myRequests(){var e=this;return(0,g.Z)(function*(){e.popoverController.dismiss(),null==localStorage.getItem("cliente")?(localStorage.setItem("tela","meuspedidos"),e.router.navigateByUrl("login",{replaceUrl:!0})):e.router.navigateByUrl("meuspedidos",{replaceUrl:!0})})()}}return(t=d).\u0275fac=function(e){return new(e||t)(a.Y36(c.s),a.Y36(h.F0),a.Y36(f.Dh))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-popover"]],decls:6,vars:0,consts:[[1,"ion-padding",2,"cursor","pointer",3,"click"]],template:function(e,l){1&e&&(a.TgZ(0,"ion-content",0),a.NdJ("click",function(){return l.myAccount()}),a._uU(1,"Meu perfil"),a.qZA(),a.TgZ(2,"ion-content",0),a.NdJ("click",function(){return l.myRequests()}),a._uU(3,"Meus pedidos"),a.qZA(),a.TgZ(4,"ion-content",0),a.NdJ("click",function(){return l.logout()}),a._uU(5,"Sair"),a.qZA())}}),d})()},7723:(C,v,i)=>{i.r(v),i.d(v,{PurchaseCompletedPageModule:()=>B});var g=i(6814),a=i(95),c=i(6728),h=i(4248),f=i(5861),U=i(2322),t=i(6242),d=i(4800),P=i(4414),e=i(9862);let l=(()=>{var o;class p{constructor(r,s){this.http=r,this.router=s,this.token="M2Q1ZDQyZjYtYjMyYy00Zjk0LThiMDAtMzZlMDYyNzk3YmE0OmJMemZyOWtTTC9ONmdaWkYxZlFEaEoyUFNrR1lTWklyQ3UrcXhnZEI2NWs9"}obtendoAccessToken(){const r=(new e.WM).set("Access-Control-Allow-Origin","*").set("Content-Type","application/json").set("Accept","application/json").set("responseType","text").set("Authorization","Bearer "+this.token);this.http.post("https://cieloecommerce.cielo.com.br/api/public/v2/token",{},{headers:r}).subscribe(s=>{console.log(s)})}}return(o=p).\u0275fac=function(r){return new(r||o)(t.LFG(e.eN),t.LFG(h.F0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),p})();function m(o,p){if(1&o){const n=t.EpF();t.TgZ(0,"ion-icon",15),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().index,u=t.oxw();return t.KtG(u.menuItemHandler(s))}),t.qZA()}}function y(o,p){if(1&o){const n=t.EpF();t.TgZ(0,"ion-item",18),t.NdJ("click",function(){t.CHM(n);const s=t.oxw().$implicit,u=t.oxw(3);return t.KtG(u.produtosSubcategoria(s))}),t._uU(1),t.qZA()}if(2&o){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n.name,"")}}function T(o,p){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,y,2,1,"ion-item",17),t.qZA()),2&o){const n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",n.show)}}function Z(o,p){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,T,2,1,"div",16),t.qZA()),2&o){const n=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",n.subcategories)}}function A(o,p){if(1&o){const n=t.EpF();t.TgZ(0,"ion-list",12)(1,"ion-item")(2,"span",1),t.NdJ("click",function(){const u=t.CHM(n).$implicit,_=t.oxw();return t.KtG(_.produtosCategoria(u))}),t._uU(3),t.qZA(),t.YNc(4,m,1,0,"ion-icon",13),t.qZA(),t.YNc(5,Z,2,1,"div",14),t.qZA()}if(2&o){const n=p.$implicit;t.xp6(3),t.Oqu(n.name),t.xp6(1),t.Q6J("ngIf",n.subcategories.length>0),t.xp6(1),t.Q6J("ngIf",n.show)}}const I=[{path:"",component:(()=>{var o;class p{constructor(r,s,u,_,S,F){this.api=r,this.loadingCtrl=s,this.router=u,this.activatedRoute=_,this.popoverController=S,this.pag=F,this.categories=[],this.client={},this.amountProducts=0,this.cart=[],this.name="Nome"}ngOnInit(){this.getDataCategories(),this.cart=JSON.parse(localStorage.getItem("cart")),this.cart&&this.cart.forEach(r=>{this.amountProducts+=r.amount}),this.client=JSON.parse(localStorage.getItem("cliente")),this.name=null!=this.client&&null!=this.client.name?this.client.name:"",this.pag.obtendoAccessToken()}menuItemHandler(r){this.categories[r].show=!this.categories[r].show}produtosCategoria(r){this.router.navigateByUrl("categoria/"+r.id,{replaceUrl:!0})}produtosSubcategoria(r){this.router.navigateByUrl("subcategoria/"+r.id,{replaceUrl:!0})}getDataCategories(){var r=this;return(0,f.Z)(function*(){const s=yield r.loadingCtrl.create({message:"Aguarde..."});s.present(),r.api.getCategories().subscribe(u=>{s.dismiss(),r.categories=u.data,r.categories.forEach(_=>{_.show=!1})})})()}presentPopover(r){var s=this;return(0,f.Z)(function*(){s.popover=yield s.popoverController.create({component:U.U,event:r}),yield s.popover.present()})()}home(){this.router.navigateByUrl("home",{replaceUrl:!0})}customer(r){this.client?this.router.navigateByUrl("cliente",{replaceUrl:!0}):(localStorage.setItem("tela","cliente"),this.router.navigateByUrl("login",{replaceUrl:!0}))}viewCart(){this.client?this.router.navigateByUrl("carrinho",{replaceUrl:!0}):(localStorage.setItem("tela","carrinho"),this.router.navigateByUrl("login",{replaceUrl:!0}))}login(){this.router.navigateByUrl("login",{replaceUrl:!0})}myAccount(){}}return(o=p).\u0275fac=function(r){return new(r||o)(t.Y36(d.s),t.Y36(P.HT),t.Y36(h.F0),t.Y36(h.gz),t.Y36(c.Dh),t.Y36(l))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-purchase-completed"]],decls:28,vars:2,consts:[["contentId","main-content"],[3,"click"],[1,"ion-padding"],["class","list","id","sidenav",4,"ngFor","ngForOf"],["id","main-content",1,"ion-page"],["slot","start"],["slot","secondary"],["slot","icon-only","name","person-circle",1,"icon-navbar"],[2,"cursor","pointer",3,"click"],["src","../../../assets/images/logo.png",2,"width","125px"],[1,"description","font"],[1,"font",2,"font-size","20px"],["id","sidenav",1,"list"],["name","chevron-down-outline","class","right",3,"click",4,"ngIf"],[4,"ngIf"],["name","chevron-down-outline",1,"right",3,"click"],[4,"ngFor","ngForOf"],["submenu-item","",3,"click",4,"ngIf"],["submenu-item","",3,"click"]],template:function(r,s){1&r&&(t.TgZ(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title",1),t.NdJ("click",function(){return s.customer(0)}),t._uU(4),t.qZA()()(),t.TgZ(5,"ion-content",2),t.YNc(6,A,6,3,"ion-list",3),t.qZA()(),t.TgZ(7,"div",4)(8,"ion-header")(9,"ion-toolbar")(10,"ion-buttons",5),t._UZ(11,"ion-menu-button"),t.qZA(),t.TgZ(12,"ion-buttons",6)(13,"ion-row")(14,"ion-col")(15,"ion-button",1),t.NdJ("click",function(_){return s.presentPopover(_)}),t._UZ(16,"ion-icon",7),t.qZA()()()(),t.TgZ(17,"ion-title",8),t.NdJ("click",function(){return s.home()}),t._UZ(18,"img",9),t.qZA()()(),t.TgZ(19,"ion-content",2)(20,"ion-row")(21,"ion-col")(22,"p",10),t._uU(23,"Venda finalizada"),t.qZA()()(),t.TgZ(24,"ion-row")(25,"ion-col")(26,"p",11),t._uU(27,"Para efetuar o pagamento, acesse o link abaixo:"),t.qZA()()()()()),2&r&&(t.xp6(4),t.Oqu(s.name),t.xp6(2),t.Q6J("ngForOf",s.categories))},dependencies:[g.sg,g.O5,c.YG,c.Sm,c.wI,c.W2,c.Gu,c.gu,c.Ie,c.q_,c.z0,c.fG,c.Nd,c.wd,c.sr],styles:[".description[_ngcontent-%COMP%]{color:var(--primary);font-size:22px;font-family:Lato,sans-serif}"]}),p})()}];let M=(()=>{var o;class p{}return(o=p).\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[h.Bz.forChild(I),h.Bz]}),p})(),B=(()=>{var o;class p{}return(o=p).\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.ez,a.u5,c.Pc,M]}),p})()},4800:(C,v,i)=>{i.d(v,{s:()=>U});var g=i(5861),a=i(9862);var h=i(6242),f=i(4248);let U=(()=>{var t;class d{constructor(e,l){this.http=e,this.router=l,this.intlMaskProps={locales:"pt-BR",options:{style:"currency",currency:"BRL"}},this.apiUrl="",this.log=!1,this.httpHeader={headers:new a.WM({"Content-Type":"application/json"})},window,this.apiUrl="apitopmoveis.azurewebsites.net"}login(e){var l=this;return(0,g.Z)(function*(){return l.result=yield l.http.post(`${l.apiUrl}/login`,e).toPromise(),!(!l.result||!l.result.sucess||(window.localStorage.setItem("token",l.result.token),localStorage.setItem("cliente",JSON.stringify(l.result.data)),0))})()}logout(){window.localStorage.clear(),this.router.navigate(["home"])}getCategories(){return this.http.post(this.apiUrl+"/categorias",{})}getProducts(){return this.http.get(this.apiUrl+"/produtos")}getProductsFeatured(){return this.http.get(this.apiUrl+"/produtosdestaque")}getProductByID(e){return this.http.get(this.apiUrl+"/produtos/"+e,e)}getClientByID(e){return this.http.get(this.apiUrl+"/clientes/"+e,e)}createClient(e){return this.http.post(this.apiUrl+"/clientes/0",e)}updateClient(e){return this.http.put(this.apiUrl+"/clientes/"+e,e)}createAddress(e){return this.http.post(this.apiUrl+"/enderecos/0",e)}updateAddress(e,l){return this.http.put(this.apiUrl+"/enderecos/"+e,l)}deleteAddress(e){return this.http.delete(this.apiUrl+"/enderecos/"+e,e)}getAddressByID(e){return this.http.get(this.apiUrl+"/enderecos/"+e,e)}getAddresses(e){return this.http.get(this.apiUrl+"/enderecoscliente/"+e,e)}getHighlights(){return this.http.post(this.apiUrl+"/imagensdestaque",{})}getPayments(){return this.http.post(this.apiUrl+"/pagamentos",{})}getBySubcategory(e){return this.http.get(this.apiUrl+"/subcategoriaproduto/"+e,e)}GetByCategory(e){return this.http.get(this.apiUrl+"/categoriaproduto/"+e,e)}createSale(e){return this.http.post(this.apiUrl+"/vendas/0",e)}getDataSale(e){return this.http.get(this.apiUrl+"/meuspedidos/"+e,e)}updatePassword(e){return this.http.put(this.apiUrl+"/atualizasenha",e)}getFreight(e){return this.http.get(this.apiUrl+"/frete/0",e)}}return(t=d).\u0275fac=function(e){return new(e||t)(h.LFG(a.eN),h.LFG(f.F0))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),d})()}}]);