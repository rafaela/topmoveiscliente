"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7426],{7426:(N,m,l)=>{l.r(m),l.d(m,{ProductsListPageModule:()=>O});var g=l(6814),_=l(95),r=l(6728),d=l(4248),p=l(5861),h=l(2322),t=l(6242),f=l(4800),P=l(4414),v=l(2301);function y(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"ion-icon",17),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().index,c=t.oxw();return t.KtG(c.menuItemHandler(n))}),t.qZA()}}function Z(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",19),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.produtosSubcategoria(n))}),t._uU(1),t.qZA()}if(2&o){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.name,"")}}function x(o,s){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Z,2,1,"ion-item",18),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.show)}}function C(o,s){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,x,2,1,"div",13),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.subcategories)}}function T(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"ion-list",14)(1,"ion-item")(2,"span",1),t.NdJ("click",function(){const c=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.produtosCategoria(c))}),t._uU(3),t.qZA(),t.YNc(4,y,1,0,"ion-icon",15),t.qZA(),t.YNc(5,C,2,1,"div",16),t.qZA()}if(2&o){const e=s.$implicit;t.xp6(3),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",e.subcategories.length>0),t.xp6(1),t.Q6J("ngIf",e.show)}}function b(o,s){if(1&o&&(t.TgZ(0,"ion-badge",20),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Oqu(e.amountProducts)}}function L(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"ion-col")(1,"ion-card",1),t.NdJ("click",function(){const c=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.openProduct(c.id))}),t._UZ(2,"img",21),t.TgZ(3,"ion-card-header")(4,"ion-card-title"),t._uU(5),t.qZA(),t.TgZ(6,"ion-card-subtitle",22),t._uU(7),t.ALo(8,"formatNumber"),t.qZA()()()()}if(2&o){const e=s.$implicit;t.xp6(2),t.s9C("alt",e.name),t.s9C("src",e.photos[0].urlImage,t.LSH),t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Oqu(t.xi3(8,4,e.value,"currency"))}}const U=[{path:"",component:(()=>{var o;class s{constructor(i,n,c,a,u){this.api=i,this.loadingCtrl=n,this.router=c,this.activatedRoute=a,this.popoverController=u,this.categories=[],this.client={},this.amountProducts=0,this.cart=[],this.name="Nome",this.products=[]}ngOnInit(){this.getDataCategories(),this.buscaCategoriaOuSubcategoria(),this.cart=JSON.parse(localStorage.getItem("cart")),this.cart&&this.cart.forEach(i=>{this.amountProducts+=i.amount}),this.client=JSON.parse(localStorage.getItem("cliente")),this.name=null!=this.client&&null!=this.client.name?this.client.name:""}buscaCategoriaOuSubcategoria(){var i=this;return(0,p.Z)(function*(){var c=window.location.href.includes("subcategoria");if(i.activatedRoute.params.subscribe(a=>{i.id=a.id}),c){const a=yield i.loadingCtrl.create({message:"Aguarde..."});a.present(),i.api.getBySubcategory(i.id).subscribe(u=>{a.dismiss(),i.products=u.data})}else{const a=yield i.loadingCtrl.create({message:"Aguarde..."});a.present(),i.api.GetByCategory(i.id).subscribe(u=>{a.dismiss(),i.products=u.data})}})()}openProduct(i){this.router.navigateByUrl("detalhe/"+i,{replaceUrl:!0})}menuItemHandler(i){this.categories[i].show=!this.categories[i].show}produtosCategoria(i){this.router.navigateByUrl("categoria/"+i.id,{replaceUrl:!0})}produtosSubcategoria(i){this.router.navigateByUrl("subcategoria/"+i.id,{replaceUrl:!0})}getDataCategories(){var i=this;return(0,p.Z)(function*(){const n=yield i.loadingCtrl.create({message:"Aguarde..."});n.present(),i.api.getCategories().subscribe(c=>{n.dismiss(),i.categories=c.data,i.categories.forEach(a=>{a.show=!1})})})()}presentPopover(i){var n=this;return(0,p.Z)(function*(){n.popover=yield n.popoverController.create({component:h.U,event:i}),yield n.popover.present()})()}home(){this.router.navigateByUrl("home",{replaceUrl:!0})}customer(i){this.client?this.router.navigateByUrl("cliente",{replaceUrl:!0}):(localStorage.setItem("tela","cliente"),this.router.navigateByUrl("login",{replaceUrl:!0}))}viewCart(){this.client?this.router.navigateByUrl("carrinho",{replaceUrl:!0}):(localStorage.setItem("tela","carrinho"),this.router.navigateByUrl("login",{replaceUrl:!0}))}login(){this.router.navigateByUrl("login",{replaceUrl:!0})}myAccount(){}}return(o=s).\u0275fac=function(i){return new(i||o)(t.Y36(f.s),t.Y36(P.HT),t.Y36(d.F0),t.Y36(d.gz),t.Y36(r.Dh))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-products-list"]],decls:26,vars:4,consts:[["contentId","main-content"],[3,"click"],[1,"ion-padding"],["class","list","id","sidenav",4,"ngFor","ngForOf"],["id","main-content",1,"ion-page"],["slot","start"],["slot","secondary"],["slot","icon-only","name","person-circle",1,"icon-navbar"],[2,"margin-right","15px",3,"click"],["slot","icon-only","name","cart-outline",1,"icon-navbar"],["color","primary",4,"ngIf"],[2,"cursor","pointer",3,"click"],["src","../../../assets/images/logo.png",2,"width","125px"],[4,"ngFor","ngForOf"],["id","sidenav",1,"list"],["name","chevron-down-outline","class","right",3,"click",4,"ngIf"],[4,"ngIf"],["name","chevron-down-outline",1,"right",3,"click"],["submenu-item","",3,"click",4,"ngIf"],["submenu-item","",3,"click"],["color","primary"],[1,"images",3,"alt","src"],[1,"value"]],template:function(i,n){1&i&&(t.TgZ(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title",1),t.NdJ("click",function(){return n.customer(0)}),t._uU(4),t.qZA()()(),t.TgZ(5,"ion-content",2),t.YNc(6,T,6,3,"ion-list",3),t.qZA()(),t.TgZ(7,"div",4)(8,"ion-header")(9,"ion-toolbar")(10,"ion-buttons",5),t._UZ(11,"ion-menu-button"),t.qZA(),t.TgZ(12,"ion-buttons",6)(13,"ion-row")(14,"ion-col")(15,"ion-button",1),t.NdJ("click",function(a){return n.presentPopover(a)}),t._UZ(16,"ion-icon",7),t.qZA()(),t.TgZ(17,"ion-col")(18,"ion-button",8),t.NdJ("click",function(){return n.viewCart()}),t._UZ(19,"ion-icon",9),t.YNc(20,b,2,1,"ion-badge",10),t.qZA()()()(),t.TgZ(21,"ion-title",11),t.NdJ("click",function(){return n.home()}),t._UZ(22,"img",12),t.qZA()()(),t.TgZ(23,"ion-content",2)(24,"ion-row"),t.YNc(25,L,9,7,"ion-col",13),t.qZA()()()),2&i&&(t.xp6(4),t.Oqu(n.name),t.xp6(2),t.Q6J("ngForOf",n.categories),t.xp6(14),t.Q6J("ngIf",n.amountProducts>0),t.xp6(5),t.Q6J("ngForOf",n.products))},dependencies:[g.sg,g.O5,r.yp,r.YG,r.Sm,r.PM,r.Zi,r.tO,r.Dq,r.wI,r.W2,r.Gu,r.gu,r.Ie,r.q_,r.z0,r.fG,r.Nd,r.wd,r.sr,v.w],styles:["ion-card-header.ios[_ngcontent-%COMP%]{display:flex;flex-flow:column-reverse;font-family:Lato,sans-serif}ion-card[_ngcontent-%COMP%]{width:250px;height:400px;display:inline-block;font-family:Lato,sans-serif}ion-card[_ngcontent-%COMP%]:hover{cursor:pointer}.value[_ngcontent-%COMP%]{color:var(--primary);font-weight:700;font-family:Lato,sans-serif}.images[_ngcontent-%COMP%]{width:250px}"]}),s})()}];let A=(()=>{var o;class s{}return(o=s).\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.Bz.forChild(U),d.Bz]}),s})();var w=l(8764);let O=(()=>{var o;class s{}return(o=s).\u0275fac=function(i){return new(i||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.ez,_.u5,r.Pc,A,w.h]}),s})()}}]);